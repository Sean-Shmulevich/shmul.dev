{"version":3,"file":"javascript-interface-library.js","sources":["../src/javascript-interface-library.ts"],"sourcesContent":["//----------------------------------------------------------------------------//\n//                        JavaScript Interface Library                        //\n//----------------------------------------------------------------------------//\n\n/**** get a reference to the \"global\" object ****/\n\n  export const global = /*#__PURE__*/ Function('return this')()\n// see https://stackoverflow.com/questions/3277182/how-to-get-the-global-object-in-javascript\n\n//------------------------------------------------------------------------------\n//--                             Object Functions                             --\n//------------------------------------------------------------------------------\n// allow methods from Object.prototype to be applied to \"vanilla\" objects\n\n/**** Object_hasOwnProperty ****/\n\n  export function Object_hasOwnProperty (Value:Object, PropertyName:string):boolean {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('hasOwnProperty' in Value) && (typeof Value.hasOwnProperty === 'function')\n      ? Value.hasOwnProperty(PropertyName)\n      : Object.prototype.hasOwnProperty.call(Value,PropertyName)\n    )\n  }\n\n/**** Object_isPrototypeOf ****/\n\n  export function Object_isPrototypeOf (Value:Object, Candidate:any):boolean {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('isPrototypeOf' in Value) && (typeof Value.isPrototypeOf === 'function')\n      ? Value.isPrototypeOf(Candidate)\n      : Object.prototype.isPrototypeOf.call(Value,Candidate)\n    )\n  }\n\n/**** Object_propertyIsEnumerable ****/\n\n  export function Object_propertyIsEnumerable (Value:Object, PropertyName:string):boolean {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('propertyIsEnumerable' in Value) && (typeof Value.propertyIsEnumerable === 'function')\n      ? Value.propertyIsEnumerable(PropertyName)\n      : Object.prototype.propertyIsEnumerable.call(Value,PropertyName)\n    )\n  }\n\n/**** Object_toString ****/\n\n  export function Object_toString (Value:Object):string {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('toString' in Value) && (typeof Value.toString === 'function')\n      ? Value.toString()\n      : Object.prototype.toString.call(Value)\n    )\n  }\n\n/**** Object_toLocaleString ****/\n\n  export function Object_toLocaleString (Value:Object):string {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('toLocaleString' in Value) && (typeof Value.toLocaleString === 'function')\n      ? Value.toLocaleString()\n      : Object.prototype.toString.call(Value)\n    ) // a missing \"toLocaleString\" method will crash Object.prototype.toLocaleString\n  }\n\n/**** Object_valueOf ****/\n\n  export function Object_valueOf (Value:Object):any {\n    return (\n      (Value == null) ||              // let this method crash like its original\n      ('valueOf' in Value) && (typeof Value.valueOf === 'function')\n      ? Value.valueOf()\n      : Object.prototype.valueOf.call(Value)\n    )\n  }\n\n/**** ObjectMergedWith ****/\n\n  export function ObjectMergedWith (\n    TargetObject:object, ...otherObjectList:object[]\n  ):object {\n    for (let i = 0, l = otherObjectList.length; i < l; i++) {\n      let otherObject = otherObjectList[i]\n      if (otherObject == null) { continue }\n\n      if (typeof otherObject === 'object') {\n        for (let Key in otherObject) {\n          let Descriptor = Object.getOwnPropertyDescriptor(otherObject,Key)\n          if (Descriptor != null) {\n            Object.defineProperty(TargetObject,Key,Descriptor)\n          }\n        }\n      } else {\n        throwError('InvalidArgument: argument #' + (i+1) + ' is not an object')\n      }\n    }\n\n    return TargetObject\n  }\n\n/**** throwError - simplifies construction of named errors ****/\n\n  export function throwError (Message:string):never {\n    let Match = /^([$a-zA-Z][$a-zA-Z0-9]*):\\s*(\\S.+)\\s*$/.exec(Message)\n    if (Match == null) {\n      throw new Error(Message)\n    } else {\n      let namedError = new Error(Match[2])\n        namedError.name = Match[1]\n      throw namedError\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                      Value Classification Functions                      --\n//------------------------------------------------------------------------------\n\n/**** ValueExists ****/\n\n  export function ValueExists (Value:any):boolean {\n    return (Value != null)\n  }\n\n/**** ValueIsMissing ****/\n\n  export function ValueIsMissing (Value:any):boolean {\n    return (Value == null)\n  }\n\n/**** ValueIsBoolean ****/\n\n  export function ValueIsBoolean (Value:any):boolean {\n    return (typeof Value === 'boolean') || (Value instanceof Boolean)\n  }\n\n/**** ValueIsNumber ****/\n\n  export function ValueIsNumber (Value:any):boolean {\n    return (typeof Value === 'number') || (Value instanceof Number)\n  }\n\n/**** ValueIsFiniteNumber (pure \"isFinite\" breaks on objects) ****/\n\n  export function ValueIsFiniteNumber (Value:any):boolean {\n    return (\n      (typeof Value === 'number') || (Value instanceof Number)\n    ) && isFinite(Value.valueOf())\n  }\n\n/**** ValueIsNaN (numeric, but NaN - this differs from pure \"isNaN\") ****/\n\n  export function ValueIsNaN (Value:any):boolean {\n    return (\n      (typeof Value === 'number') || (Value instanceof Number)\n    ) && isNaN(Value.valueOf())\n  }\n\n/**** ValueIsNumberInRange ****/\n\n  export function ValueIsNumberInRange (\n    Value:any, minValue?:number, maxValue?:number,\n    withMin:boolean = true, withMax:boolean = true\n  ):boolean {\n    if (! ValueIsNumber(Value) || isNaN(Value)) { return false }\n\n    if (ValueIsFiniteNumber(minValue)) {    // more robust than \"isFinite\" alone\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if (\n          (Value < (minValue as Number)) || (! withMin && (Value === minValue)) ||\n          (Value > (maxValue as Number)) || (! withMax && (Value === maxValue))\n        ) {\n          return false\n        }\n      } else {\n        if ((Value < (minValue as Number)) || (! withMin && (Value === minValue))) {\n          return false\n        }\n      }\n    } else {\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if ((Value > (maxValue as Number)) || (! withMax && (Value === maxValue))) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n/**** ValueIsInteger ****/\n\n  export function ValueIsInteger (Value:any):boolean {\n    if ((typeof Value !== 'number') && ! (Value instanceof Number)) {\n      return false\n    }\n\n    Value = Value.valueOf()\n    return isFinite(Value) && (Math.round(Value) === Value)\n  }\n\n/**** ValueIsIntegerInRange ****/\n\n  export function ValueIsIntegerInRange (\n    Value:any, minValue?:number, maxValue?:number\n  ):boolean {\n    if (! ValueIsInteger(Value) || isNaN(Value)) { return false }\n\n    if (ValueIsFiniteNumber(minValue)) {    // more robust than \"isFinite\" alone\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if ((Value < (minValue as Number)) || (Value > (maxValue as Number))) {\n          return false\n        }\n      } else {\n        if (Value < (minValue as Number)) {\n          return false\n        }\n      }\n    } else {\n      if (ValueIsFiniteNumber(maxValue)) {  // more robust than \"isFinite\" alone\n        if (Value > (maxValue as Number)) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n/**** ValueIsOrdinal ****/\n\n  export function ValueIsOrdinal (Value:any):boolean {\n    if ((typeof Value !== 'number') && ! (Value instanceof Number)) {\n      return false\n    }\n\n    Value = Value.valueOf()\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 0)\n  }\n\n/**** ValueIsCardinal ****/\n\n  export function ValueIsCardinal (Value:any):boolean {\n    if ((typeof Value !== 'number') && ! (Value instanceof Number)) {\n      return false\n    }\n\n    Value = Value.valueOf()\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 1)\n  }\n\n/**** ValueIsString ****/\n\n  export function ValueIsString (Value:any):boolean {\n    return (typeof Value === 'string') || (Value instanceof String)\n  }\n\n/**** ValueIs[Non]EmptyString ****/\n\n  const emptyStringPattern = /^\\s*$/\n\n  export function ValueIsEmptyString (Value:any):boolean {\n    return (\n      (typeof Value === 'string') || (Value instanceof String)\n    ) && emptyStringPattern.test(Value.valueOf())\n  }\n\n  export function ValueIsNonEmptyString (Value:any):boolean {\n    return (\n      (typeof Value === 'string') || (Value instanceof String)\n    ) && ! emptyStringPattern.test(Value.valueOf())\n  }\n\n/**** ValueIsStringMatching ****/\n\n  export function ValueIsStringMatching (Value:any, Pattern:RegExp):boolean {\n    return (\n      (typeof Value === 'string') || (Value instanceof String)\n    ) && Pattern.test(Value.valueOf())\n  }\n\n/**** ValueIsText ****/\n\n  const noCtrlCharsButCRLFPattern = /^[^\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/\n\n  export function ValueIsText (Value:any):boolean {\n    return ValueIsStringMatching(Value,noCtrlCharsButCRLFPattern)\n  }\n\n/**** ValueIsTextline ****/\n\n  const noCtrlCharsPattern = /^[^\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/\n\n  export function ValueIsTextline (Value:any):boolean {\n    return ValueIsStringMatching(Value,noCtrlCharsPattern)\n  }\n\n/**** ValueIsFunction ****/\n\n  export function ValueIsFunction (Value:any):boolean {\n    return (typeof Value === 'function')\n  }\n\n/**** ValueIsAnonymousFunction ****/\n\n  export function ValueIsAnonymousFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      ((Value.name == null) || (Value.name === ''))\n    )\n  }\n\n/**** ValueIsNamedFunction ****/\n\n  export function ValueIsNamedFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      (Value.name != null) && (Value.name !== '')\n    )\n  }\n\n/**** ValueIsNativeFunction ****/\n\n  export function ValueIsNativeFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      /^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString())\n    )\n  }\n\n/**** ValueIsScriptedFunction ****/\n\n  export function ValueIsScriptedFunction (Value:any):boolean {\n    return (\n      (typeof Value === 'function') &&\n      ! /^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString())\n    )\n  }\n\n/**** ValueIsObject ****/\n\n  export function ValueIsObject (Value:any):boolean {\n    return (Value != null) && (typeof Value === 'object')\n  }\n\n/**** ValueIsPlainObject ****/\n\n  export function ValueIsPlainObject (Value:any):boolean {\n    return (\n      (Value != null) && (typeof Value === 'object') &&\n      (Object.getPrototypeOf(Value) === Object.prototype)\n    )\n  }\n\n/**** ValueIsVanillaObject ****/\n\n  export function ValueIsVanillaObject (Value:any):boolean {\n    return (\n      (Value != null) && (typeof Value === 'object') &&\n      ! (Value instanceof Object)\n    )\n  }\n\n/**** ValueIsArray ****/\n\n  export let ValueIsArray = Array.isArray\n\n/**** ValueIsList (\"dense\" array) ****/\n\n  export function ValueIsList (\n    Value:any, minLength?:number, maxLength?:number\n  ):boolean {\n    if (ValueIsArray(Value)) {\n      for (let i = 0, l = Value.length; i < l; i++) {\n        if (Value[i] === undefined) { return false }\n      }\n\n      if (minLength != null) {\n        if (Value.length < minLength) { return false }\n      }\n\n      if (maxLength != null) {\n        if (Value.length > maxLength) { return false }\n      }\n      return true\n    }\n\n    return false\n  }\n\n/**** ValueIsListSatisfying ****/\n\n  export function ValueIsListSatisfying (\n    Value:any, Validator:Function, minLength?:number, maxLength?:number\n  ):boolean {\n    if (ValueIsArray(Value)) {\n      try {\n        for (let i = 0, l = Value.length; i < l; i++) {\n          if (Validator(Value[i]) == false) { return false }\n        }\n\n        if (minLength != null) {\n          if (Value.length < minLength) { return false }\n        }\n\n        if (maxLength != null) {\n          if (Value.length > maxLength) { return false }\n        }\n        return true\n      } catch (Signal) { /* nop */ }\n    }\n\n    return false\n  }\n\n/**** ValueIsInstanceOf ****/\n\n  export function ValueIsInstanceOf (Value:any, Constructor:Function):boolean {\n    return (Value instanceof Constructor)\n  }\n\n/**** ValueInheritsFrom ****/\n\n  export function ValueInheritsFrom (Value:any, Prototype:Object):boolean {\n    return Object_isPrototypeOf(Prototype,Value)\n  }\n\n/**** ValueIsDate ****/\n\n  export function ValueIsDate (Value:any):boolean {\n    return (Value instanceof Date)\n  }\n\n/**** ValueIsError ****/\n\n  export function ValueIsError (Value:any):boolean {\n    return (Value instanceof Error)\n  }\n\n/**** ValueIsPromise ****/\n\n  export function ValueIsPromise (Value:any):boolean {\n    return (Value != null) && (typeof Value.then === 'function')\n  }\n// see https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise\n\n/**** ValueIsRegExp ****/\n\n  export function ValueIsRegExp (Value:any):boolean {\n    return (Value instanceof RegExp)\n  }\n\n/**** ValueIsOneOf ****/\n\n  export function ValueIsOneOf (Value:any, ValueList:any[]):boolean {\n    return (ValueList.indexOf(Value) >= 0)\n  }                     // no automatic unboxing of boxed values and vice-versa!\n\n/**** ValueIsColor ****/\n\n  export function ValueIsColor (Value:any):boolean {\n    return ValueIsString(Value) && (\n      ColorSet.hasOwnProperty (Value) ||\n      /^#[a-fA-F0-9]{6}$/.test(Value) ||\n      /^#[a-fA-F0-9]{8}$/.test(Value) ||\n      /^rgb\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+\\)$/.test(Value) ||        // not perfect\n      /^rgba\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+,([01]|[0]?[.][0-9]+)\\)$/.test(Value) // dto.\n    )\n  }\n\n/**** ValueIsEMailAddress ****/\n\n  const EMailAddressPattern = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n  // see https://stackoverflow.com/questions/201323/how-to-validate-an-email-address-using-a-regular-expression\n\n  export function ValueIsEMailAddress (Value:any):boolean {\n    return ValueIsStringMatching(Value, EMailAddressPattern)\n  }\n\n/**** ValueIsURL ****/\n\n  const noCtrlCharsOrWhitespacePattern = /^[^\\s\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/\n\n  export function ValueIsURL (Value:any):boolean {\n    if (\n      ! ValueIsStringMatching(Value, noCtrlCharsOrWhitespacePattern) ||\n      (Value === '')\n    ) { return false }\n\n    try {\n      new URL(Value, 'file://')\n      return true\n    } catch (Signal) {\n      return false\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                      Argument Validation Functions                       --\n//------------------------------------------------------------------------------\n\n  export const rejectNil = false\n  export const acceptNil = true\n\n/**** validatedArgument ****/\n\n  export function validatedArgument (\n    Description:string, Argument:any, ValueIsValid:(Value:any) => boolean,\n    NilIsAcceptable:boolean, Expectation:string\n  ):any|null|undefined {\n    if (Argument == null) {\n      if (NilIsAcceptable) {\n        return Argument\n      } else {\n        throwError(`MissingArgument: no ${escaped(Description)} given`)\n      }\n    } else {\n      if (ValueIsValid(Argument)) {\n        switch (true) {\n          case Argument instanceof Boolean:\n          case Argument instanceof Number:\n          case Argument instanceof String:\n            return Argument.valueOf()                  // unboxes any primitives\n          default:\n            return Argument\n        }\n      } else {\n        throwError(\n          `InvalidArgument: the given ${escaped(Description)} is no valid ${escaped(Expectation)}`\n        )\n      }\n    }\n  }\n\n/**** ValidatorForClassifier ****/\n\n  export function ValidatorForClassifier (\n    Classifier:(Value:any) => boolean, NilIsAcceptable:boolean,\n    Expectation:string\n  ):Function {\n    let Validator = function (Description:string, Argument:any):any {\n      return validatedArgument(\n        Description, Argument, Classifier, NilIsAcceptable, Expectation\n      )\n    }\n\n    let ClassifierName = Classifier.name\n    if ((ClassifierName != null) && /^ValueIs/.test(ClassifierName)) {\n      let ValidatorName = ClassifierName.replace(  // derive name from validator\n        /^ValueIs/, NilIsAcceptable ? 'allow' : 'expect'\n      )\n      return FunctionWithName(Validator,ValidatorName)\n    } else {\n      return Validator                              // without any specific name\n    }\n  }\n\n/**** FunctionWithName (works with older JS engines as well) ****/\n\n  export function FunctionWithName (\n    originalFunction:Function, desiredName:string|String\n  ):Function {\n    if (originalFunction == null) {\n      throwError('MissingArgument: no function given')\n    }\n    if (typeof originalFunction !== 'function') {\n      throwError('InvalidArgument: the given 1st Argument is not a JavaScript function')\n    }\n\n    if (desiredName == null) {\n      throwError('MissingArgument: no desired name given')\n    }\n    if ((typeof desiredName !== 'string') && ! (desiredName instanceof String)) {\n      throwError('InvalidArgument: the given desired name is not a string')\n    }\n\n    if (originalFunction.name === desiredName) { return originalFunction }\n\n    try {\n      Object.defineProperty(originalFunction, 'name', { value:desiredName })\n      if (originalFunction.name === desiredName) { return originalFunction }\n    } catch (signal) { /* ok - let's take the hard way */ }\n\n    let renamed = new Function(\n      'originalFunction', 'return function ' + desiredName + ' () {' +\n        'return originalFunction.apply(this,Array.prototype.slice.apply(arguments))' +\n      '}'\n    )\n    return renamed(originalFunction)\n  }                                  // also works with older JavaScript engines\n\n/**** expect[ed]Value ****/\n\n  export function expectValue (Description:string, Argument:any):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    } else {\n      return Argument.valueOf()\n    }\n  }\n  export const expectedValue = expectValue\n\n/**** allow/expect[ed]Boolean ****/\n\n  export const allowBoolean = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsBoolean, acceptNil, 'boolean value'\n  ), allowedBoolean = allowBoolean\n\n  export const expectBoolean = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsBoolean, rejectNil, 'boolean value'\n  ), expectedBoolean = expectBoolean\n\n/**** allow/expect[ed]Number ****/\n\n  export const allowNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNumber, acceptNil, 'numeric value'\n  ), allowedNumber = allowNumber\n\n  export const expectNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNumber, rejectNil, 'numeric value'\n  ), expectedNumber = expectNumber\n\n/**** allow/expect[ed]FiniteNumber ****/\n\n  export const allowFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFiniteNumber, acceptNil, 'finite numeric value'\n  ), allowedFiniteNumber = allowFiniteNumber\n\n  export const expectFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFiniteNumber, rejectNil, 'finite numeric value'\n  ), expectedFiniteNumber = expectFiniteNumber\n\n/**** allow/expect[ed]NaN ****/\n\n  export const allowNaN = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNaN, acceptNil, 'NaN value'\n  ), allowedNaN = allowNaN\n\n  export const expectNaN = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNaN, rejectNil, 'NaN value'\n  ), expectedNaN = expectNaN\n\n/**** allow[ed]NumberInRange ****/\n\n  export function allowNumberInRange (\n    Description:string, Argument:any,\n    minValue?:number, maxValue?:number, withMin?:boolean, withMax?:boolean\n  ):number|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedNumberInRange(Description, Argument, minValue,maxValue, withMin,withMax)\n    )\n  }\n  export const allowedNumberInRange = allowNumberInRange\n\n/**** expect[ed]NumberInRange ****/\n\n  export function expectNumberInRange (\n    Description:string, Argument:any,\n    minValue?:number, maxValue?:number, withMin?:boolean, withMax?:boolean\n  ):number {\n    expectNumber(Description, Argument)\n\n    if (isNaN(Argument)) {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is not-a-number`\n      )\n    }\n\n    if (withMin == null) { withMin = true }\n    if (withMax == null) { withMax = true }\n\n    if ((minValue != null) && isFinite(minValue)) {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if (\n          (Argument < minValue) || (! withMin && (Argument === minValue)) ||\n          (Argument > maxValue) || (! withMax && (Argument === maxValue))\n        ) {\n          throw new RangeError(\n            `the given ${escaped(Description)} (${Argument}) is outside ` +\n            `the allowed range (${minValue}...${maxValue})`\n          )\n        }\n      } else {\n        if ((Argument < minValue) || (! withMin && (Argument === minValue))) {\n          throw new RangeError(\n            `the given ${escaped(Description)} is below the allowed ` +\n            `minimum (${Argument} ${withMin ? '<' : '<='} ${minValue})`\n          )\n        }\n      }\n    } else {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if ((Argument > maxValue) || (! withMax && (Argument === maxValue))) {\n          throw new RangeError(\n            `the given ${escaped(Description)} exceeds the allowed ` +\n            `maximum (${Argument} ${withMax ? '>' : '>='} ${maxValue})`\n          )\n        }\n      }\n    }\n\n    return Argument.valueOf()\n  }\n  export const expectedNumberInRange = expectNumberInRange\n\n/**** allow/expect[ed]Integer ****/\n\n  export const allowInteger = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsInteger, acceptNil, 'integral numeric value'\n  ), allowedInteger = allowInteger\n\n  export const expectInteger = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsInteger, rejectNil, 'integral numeric value'\n  ), expectedInteger = expectInteger\n\n/**** allow[ed]IntegerInRange ****/\n\n  export function allowIntegerInRange (\n    Description:string, Argument:any, minValue?:number, maxValue?:number\n  ):number|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedIntegerInRange(Description, Argument, minValue,maxValue)\n    )\n  }\n  export const allowedIntegerInRange = allowIntegerInRange\n\n/**** expect[ed]IntegerInRange ****/\n\n  export function expectIntegerInRange (\n    Description:string, Argument:any, minValue?:number, maxValue?:number\n  ):number {\n    expectInteger(Description, Argument)\n\n    if (isNaN(Argument)) {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is not-a-number`\n      )\n    }\n\n    if ((minValue != null) && isFinite(minValue)) {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if ((Argument < minValue) || (Argument > maxValue)) {\n          throw new RangeError(\n            `the given ${escaped(Description)} (${Argument}) is outside ` +\n            `the allowed range (${minValue}...${maxValue})`\n          )\n        }\n      } else {\n        if (Argument < minValue) {\n          throw new RangeError(\n            `the given ${escaped(Description)} is below the allowed ` +\n            `minimum (${Argument} < ${minValue})`\n          )\n        }\n      }\n    } else {\n      if ((maxValue != null) && isFinite(maxValue)) {\n        if (Argument > maxValue) {\n          throw new RangeError(\n            `the given ${escaped(Description)} exceeds the allowed ` +\n            `maximum (${Argument} > ${maxValue})`\n          )\n        }\n      }\n    }\n\n    return Argument.valueOf()\n  }\n  export const expectedIntegerInRange = expectIntegerInRange\n\n/**** allow/expect[ed]Ordinal ****/\n\n  export const allowOrdinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsOrdinal, acceptNil, 'ordinal number'\n  ), allowedOrdinal = allowOrdinal\n\n  export const expectOrdinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsOrdinal, rejectNil, 'ordinal number'\n  ), expectedOrdinal = expectOrdinal\n\n/**** allow/expect[ed]Cardinal ****/\n\n  export const allowCardinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsCardinal, acceptNil, 'cardinal number'\n  ), allowedCardinal = allowCardinal\n\n  export const expectCardinal = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsCardinal, rejectNil, 'cardinal number'\n  ), expectedCardinal = expectCardinal\n\n/**** allow/expect[ed]String ****/\n\n  export const allowString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsString, acceptNil, 'literal string'\n  ), allowedString = allowString\n\n  export const expectString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsString, rejectNil, 'literal string'\n  ), expectedString = expectString\n\n/**** allow/expect[ed]NonEmptyString ****/\n\n  export const allowNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNonEmptyString, acceptNil, 'non-empty literal string'\n  ), allowedNonEmptyString = allowNonEmptyString\n\n  export const expectNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNonEmptyString, rejectNil, 'non-empty literal string'\n  ), expectedNonEmptyString = expectNonEmptyString\n\n/**** allow[ed]StringMatching ****/\n\n  export function allowStringMatching (\n    Description:string, Argument:any, Pattern:RegExp\n  ):string|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedStringMatching(Description, Argument, Pattern)\n    )\n  }\n  export const allowedStringMatching = allowStringMatching\n\n/**** expect[ed]StringMatching ****/\n\n  export function expectStringMatching (\n    Description:string, Argument:any, Pattern:RegExp\n  ):string {\n    expectString(Description, Argument)\n\n    if (Pattern.test(Argument)) {\n      return Argument.valueOf()\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} does not match the specified pattern`\n      )\n    }\n  }\n  export const expectedStringMatching = expectStringMatching\n\n/**** allow/expect[ed]Text ****/\n\n  export const allowText = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsText, acceptNil, 'literal text'\n  ), allowedText = allowText\n\n  export const expectText = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsText, rejectNil, 'literal text'\n  ), expectedText = expectText\n\n/**** allow/expect[ed]Textline ****/\n\n  export const allowTextline = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsTextline, acceptNil, 'single line of text'\n  ), allowedTextline = allowTextline\n\n  export const expectTextline = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsTextline, rejectNil, 'single line of text'\n  ), expectedTextline = expectTextline\n\n/**** allow/expect[ed]Function ****/\n\n  export const allowFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFunction, acceptNil, 'JavaScript function'\n  ), allowedFunction = allowFunction\n\n  export const expectFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsFunction, rejectNil, 'JavaScript function'\n  ), expectedFunction = expectFunction\n\n/**** allow/expect[ed]AnonymousFunction ****/\n\n  export const allowAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsAnonymousFunction, acceptNil, 'anonymous JavaScript function'\n  ), allowedAnonymousFunction = allowAnonymousFunction\n\n  export const expectAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsAnonymousFunction, rejectNil, 'anonymous JavaScript function'\n  ), expectedAnonymousFunction = expectAnonymousFunction\n\n/**** allow/expect[ed]NamedFunction ****/\n\n  export const allowNamedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNamedFunction, acceptNil, 'named JavaScript function'\n  ), allowedNamedFunction = allowNamedFunction\n\n  export const expectNamedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNamedFunction, rejectNil, 'named JavaScript function'\n  ), expectedNamedFunction = expectNamedFunction\n\n/**** allow/expect[ed]NativeFunction ****/\n\n  export const allowNativeFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNativeFunction, acceptNil, 'native JavaScript function'\n  ), allowedNativeFunction = allowNativeFunction\n\n  export const expectNativeFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsNativeFunction, rejectNil, 'native JavaScript function'\n  ), expectedNativeFunction = expectNativeFunction\n\n/**** allow/expect[ed]ScriptedFunction ****/\n\n  export const allowScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsScriptedFunction, acceptNil, 'scripted JavaScript function'\n  ), allowedScriptedFunction = allowScriptedFunction\n\n  export const expectScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsScriptedFunction, rejectNil, 'scripted JavaScript function'\n  ), expectedScriptedFunction = expectScriptedFunction\n\n/**** allow/expect[ed]Object ****/\n\n  export const allowObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsObject, acceptNil, 'JavaScript object'\n  ), allowedObject = allowObject\n\n  export const expectObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsObject, rejectNil, 'JavaScript object'\n  ), expectedObject = expectObject\n\n/**** allow/expect[ed]PlainObject ****/\n\n  export const allowPlainObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPlainObject, acceptNil, '\"plain\" JavaScript object'\n  ), allowedPlainObject = allowPlainObject\n\n  export const expectPlainObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPlainObject, rejectNil, '\"plain\" JavaScript object'\n  ), expectedPlainObject = expectPlainObject\n\n/**** allow/expect[ed]VanillaObject ****/\n\n  export const allowVanillaObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsVanillaObject, acceptNil, '\"vanilla\" JavaScript object'\n  ), allowedVanillaObject = allowVanillaObject\n\n  export const expectVanillaObject = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsVanillaObject, rejectNil, '\"vanilla\" JavaScript object'\n  ), expectedVanillaObject = expectVanillaObject\n\n/**** allow[ed]Array ****/\n\n  export function allowArray (Description:string, Argument:any):any[]|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedArray(Description,Argument)\n    )\n  }\n  export const allowedArray = allowArray\n\n/**** expect[ed]Array ****/\n\n  export function expectArray (Description:string, Argument:any):any[] {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsArray(Argument)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is no JavaScript array`\n      )\n    }\n  }\n  export const expectedArray = expectArray\n\n/**** allow[ed]List ****/\n\n  export function allowList (\n    Description:string, Argument:any, Expectation?:string,\n    minLength?:number, maxLength?:number\n  ):any[]|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedList(Description, Argument, Expectation, minLength,maxLength)\n    )\n  }\n  export const allowedList = allowList\n\n/**** expect[ed]List ****/\n\n  export function expectList (\n    Description:string, Argument:any, Expectation?:string,\n    minLength?:number, maxLength?:number\n  ):any[] {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsList(Argument, minLength,maxLength)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is ` + (\n          Expectation == null\n          ? 'either not a list or contains an invalid number of elements'\n          : 'no ' + escaped(Expectation)\n        )\n      )\n    }\n  }\n  export const expectedList = expectList\n\n/**** allow[ed]ListSatisfying ****/\n\n  export function allowListSatisfying (\n    Description:string, Argument:any, Validator:(Value:any) => boolean,\n    Expectation?:string, minLength?:number, maxLength?:number\n  ):any[]|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedListSatisfying(\n          Description, Argument, Validator, Expectation, minLength,maxLength\n        )\n    )\n  }\n  export const allowedListSatisfying = allowListSatisfying\n\n/**** expect[ed]ListSatisfying ****/\n\n  export function expectListSatisfying (\n    Description:string, Argument:any, Validator:(Value:any) => boolean,\n    Expectation?:string, minLength?:number, maxLength?:number\n  ):any[] {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsListSatisfying(Argument,Validator, minLength,maxLength)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is ` + (\n          Expectation == null\n          ? 'either not a list or contains invalid elements'\n          : 'no ' + escaped(Expectation)\n        )\n      )\n    }\n  }\n  export const expectedListSatisfying = expectListSatisfying\n\n/**** allow[ed]InstanceOf ****/\n\n  export function allowInstanceOf (\n    Description:string, Argument:any, constructor:Function, Expectation:string\n  ):any|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedInstanceOf(Description, Argument, constructor, Expectation)\n    )\n  }\n  export const allowedInstanceOf = allowInstanceOf\n\n/**** expect[ed]InstanceOf ****/\n\n  export function expectInstanceOf (\n    Description:string, Argument:any, constructor:Function, Expectation:string\n  ):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (! (Argument instanceof constructor)) {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is no ${escaped(Expectation)}`\n      )\n    }\n\n    return Argument\n  }\n  export const expectedInstanceOf = expectInstanceOf\n\n/**** allow[ed]ValueInheritingFrom ****/\n\n  export function allowValueInheritingFrom (\n    Description:string, Argument:any, prototype:any, Expectation:string\n  ):any|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedValueInheritingFrom(Description, Argument, prototype, Expectation)\n    )\n  }\n  export const allowedValueInheritingFrom = allowValueInheritingFrom\n\n/**** expect[ed]ValueInheritingFrom ****/\n\n  export function expectValueInheritingFrom (\n    Description:string, Argument:any, prototype:any, Expectation:string\n  ):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (prototype.isPrototypeOf(Argument)) {\n      return Argument\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is no ${escaped(Expectation)}`\n      )\n    }\n  }\n  export const expectedValueInheritingFrom = expectValueInheritingFrom\n\n/**** allow/expect[ed]Date ****/\n\n  export const allowDate = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsDate, acceptNil, 'JavaScript Date object'\n  ), allowedDate = allowDate\n\n  export const expectDate = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsDate, rejectNil, 'JavaScript Date object'\n  ), expectedDate = expectDate\n\n/**** allow/expect[ed]Error ****/\n\n  export const allowError = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsError, acceptNil, 'JavaScript Error object'\n  ), allowedError = allowError\n\n  export const expectError = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsError, rejectNil, 'JavaScript Error object'\n  ), expectedError = expectError\n\n/**** allow/expect[ed]Promise ****/\n\n  export const allowPromise = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPromise, acceptNil, 'JavaScript Promise (or \"Thenable\") object'\n  ), allowedPromise = allowPromise\n\n  export const expectPromise = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsPromise, rejectNil, 'JavaScript Promise (or \"Thenable\") object'\n  ), expectedPromise = expectPromise\n\n/**** allow/expect[ed]RegExp ****/\n\n  export const allowRegExp = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsRegExp, acceptNil, 'JavaScript RegExp object'\n  ), allowedRegExp = allowRegExp\n\n  export const expectRegExp = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsRegExp, rejectNil, 'JavaScript RegExp object'\n  ), expectedRegExp = expectRegExp\n\n/**** allow[ed]OneOf ****/\n\n  export function allowOneOf (\n    Description:string, Argument:any, ValueList:any[]\n  ):any|null|undefined {\n    return (Argument == null\n      ? Argument\n      : expectedOneOf(Description, Argument, ValueList)\n    )\n  }\n  export const allowedOneOf = allowOneOf\n\n/**** expect[ed]OneOf ****/\n\n  export function expectOneOf (\n    Description:string, Argument:any, ValueList:any[]\n  ):any {\n    if (Argument == null) {\n      throwError(`MissingArgument: no ${escaped(Description)} given`)\n    }\n\n    if (ValueIsOneOf(Argument,ValueList)) {\n      return (                                         // unboxes any primitives\n        (Argument == null) || (typeof Argument.valueOf !== 'function')\n        ? Argument\n        : Argument.valueOf()\n      )\n    } else {\n      throwError(\n        `InvalidArgument: the given ${escaped(Description)} is not among the supported values`\n      )\n    }\n  }\n  export const expectedOneOf = expectOneOf\n\n/**** allow/expect[ed]Color ****/\n\n  export const allowColor = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsColor, acceptNil, 'valid CSS color specification'\n  ), allowedColor = allowColor\n\n  export const expectColor = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsColor, rejectNil, 'valid CSS color specification'\n  ), expectedColor = expectColor\n\n/**** allow/expect[ed]EMailAddress ****/\n\n  export const allowEMailAddress = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsEMailAddress, acceptNil, 'valid EMail address'\n  ), allowedEMailAddress = allowEMailAddress\n\n  export const expectEMailAddress = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsEMailAddress, rejectNil, 'valid EMail address'\n  ), expectedEMailAddress = expectEMailAddress\n\n/**** allow/expect[ed]URL ****/\n\n  export const allowURL = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsURL, acceptNil, 'valid URL'\n  ), allowedURL = allowURL\n\n  export const expectURL = /*#__PURE__*/ ValidatorForClassifier(\n    ValueIsURL, rejectNil, 'valid URL'\n  ), expectedURL = expectURL\n\n/**** escaped - escapes all control characters in a given string ****/\n\n  export function escaped (Text:string):string {\n    const EscapeSequencePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?/g\n    const CtrlCharCodePattern  = /[\\x00-\\x1f\\x7f-\\x9f]/g\n\n    return Text\n      .replace(EscapeSequencePattern, function (Match:string):string {\n        return (Match === '\\\\' ? '\\\\\\\\' : Match)\n      })\n      .replace(CtrlCharCodePattern, function (Match:string):string {\n        switch (Match) {\n          case '\\0':  return '\\\\0'\n          case '\\b':  return '\\\\b'\n          case '\\f':  return '\\\\f'\n          case '\\n':  return '\\\\n'\n          case '\\r':  return '\\\\r'\n          case '\\t':  return '\\\\t'\n          case '\\v':  return '\\\\v'\n          default: {\n            let HexCode = Match.charCodeAt(0).toString(16)\n            return '\\\\x' + '00'.slice(HexCode.length) + HexCode\n          }\n        }\n      })\n  }\n\n/**** unescaped - evaluates all escape sequences in a given string ****/\n\n  export function unescaped (Text:string):string {\n    const EscapeSequencePattern = /\\\\[0bfnrtv'\"\\\\\\/]|\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}/g\n\n    return Text\n      .replace(EscapeSequencePattern, function (Match:string):string {\n        switch (Match) {\n          case '\\\\0':  return '\\0'\n          case '\\\\b':  return '\\b'\n          case '\\\\f':  return '\\f'\n          case '\\\\n':  return '\\n'\n          case '\\\\r':  return '\\r'\n          case '\\\\t':  return '\\t'\n          case '\\\\v':  return '\\v'\n          case '\\\\\\'': return \"'\"\n          case '\\\\\"':  return '\"'\n          case '\\\\\\\\': return \"\\\\\"\n          default: {\n            let CharCode = parseInt(Match.slice(2),16)\n            return String.fromCharCode(CharCode)\n          }\n        }\n    })\n  }\n\n/**** quotable - makes a given string ready to be put in single/double quotes ****/\n\n  export function quotable (Text:string, Quote:'\"' | \"'\" = '\"'):string {\n    const EscSeqOrSglQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|'/g\n    const EscSeqOrDblQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|\"/g\n    const CtrlCharCodePattern     = /[\\x00-\\x1f\\x7f-\\x9f]/g\n\n    return Text\n      .replace(\n        Quote === \"'\" ? EscSeqOrSglQuotePattern : EscSeqOrDblQuotePattern,\n        function (Match:string):string {\n          switch (Match) {\n            case \"'\":  return \"\\\\'\"\n            case '\"':  return '\\\\\"'\n            case '\\\\': return '\\\\\\\\'\n            default:   return Match\n          }\n        }\n      )\n      .replace(CtrlCharCodePattern, function (Match:string):string {\n        switch (Match) {\n          case '\\0':  return '\\\\0'\n          case '\\b':  return '\\\\b'\n          case '\\f':  return '\\\\f'\n          case '\\n':  return '\\\\n'\n          case '\\r':  return '\\\\r'\n          case '\\t':  return '\\\\t'\n          case '\\v':  return '\\\\v'\n          default: {\n            let HexCode = Match.charCodeAt(0).toString(16)\n            return '\\\\x' + '00'.slice(HexCode.length) + HexCode\n          }\n        }\n      })\n  }\n\n/**** quoted ****/\n\n  export function quoted (Text:string, Quote:'\"' | \"'\" = '\"'):string {\n    return Quote + quotable(Text,Quote) + Quote\n  }\n\n/**** HTMLsafe ****/\n\n  export function HTMLsafe (Argument:string, EOLReplacement?:string):string {\n    EOLReplacement = (EOLReplacement || '').trim() || '<br/>'\n    return Argument.replace(\n      /[&<>\"'\\u0000-\\u001F\\u007F-\\u009F\\\\]/g, function (Match:string):string {\n        switch (Match) {\n          case '&':  return '&amp;'\n          case '<':  return '&lt;'\n          case '>':  return '&gt;'\n          case '\"':  return '&quot;'\n          case \"'\":  return '&apos;'\n          case '\\b': return '&#92;b'\n          case '\\f': return '&#92;f'\n          case '\\n': return EOLReplacement as string\n          case '\\r': return '&#92;r'\n          case '\\t': return '&#92;t'\n          case '\\v': return '&#92;v'\n          case '\\\\': return '&#92;'\n          default:   let Result = Match.charCodeAt(0).toString(16)\n                     return '&#x0000'.substring(3,7-Result.length) + Result + ';'\n        }\n      }\n    )\n  }\n\n/**** MarkDownSafe ****/\n\n  export function MarkDownSafe (Argument:string, EOLReplacement?:string):string {\n    return HTMLsafe(Argument, EOLReplacement).replace(/:/g,'&#58;')\n  }\n\n/**** ValuesDiffer ****/\n\n  export function ValuesDiffer (\n    thisValue:any, otherValue:any, Mode?:'by-value'|'by-reference'|undefined\n  ):boolean {\n    if (thisValue === otherValue) { return false }\n\n    let thisType = typeof thisValue\n    if (thisType !== typeof otherValue) { return true }\n\n    /**** ArraysDiffer ****/\n\n      function ArraysDiffer (\n        thisArray:any[], otherArray:any[], Mode:'by-value'|'by-reference'|undefined\n      ):boolean {\n        if (! Array.isArray(otherArray)) { return true }\n\n        if (thisArray.length !== otherArray.length) { return true }\n\n        for (let i = 0, l = thisArray.length; i < l; i++) {\n          if (ValuesDiffer(thisArray[i],otherArray[i],Mode)) { return true }\n        }\n\n        return false\n      }\n\n    /**** ObjectsDiffer ****/\n\n      function ObjectsDiffer (\n        thisObject:any, otherObject:any, Mode:'by-value'|'by-reference'|undefined\n      ):boolean {\n        if (Object.getPrototypeOf(thisObject) !== Object.getPrototypeOf(otherObject)) {\n          return true\n        }\n\n        for (let key in thisObject) {\n          if (! (key in otherObject)) { return true }\n        }\n\n        for (let key in otherObject) {\n          if (! (key in thisObject)) { return true }\n\n          if (ValuesDiffer(thisObject[key],otherObject[key],Mode)) {\n            return true\n          }\n        }\n\n        return false\n      }\n\n    switch (thisType) {\n      case 'undefined':\n      case 'boolean':\n      case 'string':\n      case 'function': return true   // most primitives are compared using \"===\"\n      case 'number':   return (\n                         (isNaN(thisValue) !== isNaN(otherValue)) ||\n                         (Math.abs(thisValue-otherValue) > Number.EPSILON)\n                       )\n      case 'object':\n        if (thisValue  == null) { return true }  // since \"other_value\" != null!\n        if (otherValue == null) { return true }   // since \"this_value\" != null!\n\n        if ((Mode === 'by-value') && (\n          (thisValue instanceof Boolean) ||\n          (thisValue instanceof Number) ||\n          (thisValue instanceof String)\n        )) {\n          return (thisValue.valueOf() !== otherValue.valueOf())\n        }\n\n        if (Array.isArray(thisValue)) {\n          return ArraysDiffer(thisValue,otherValue,Mode)\n        }\n\n        return (\n          Mode === 'by-reference'\n          ? true                           // because (thisValue !== otherValue)\n          : ObjectsDiffer(thisValue,otherValue,Mode)\n        )\n      default: return true                          // unsupported property type\n    }\n\n    return true\n  }\n\n/**** ValuesAreEqual ****/\n\n  export function ValuesAreEqual (\n    thisValue:any, otherValue:any, Mode?:'by-value'|'by-reference'|undefined\n  ):boolean {\n    return ! ValuesDiffer(thisValue,otherValue,Mode)\n  }\n\n/**** ObjectIsEmpty ****/\n\n  export function ObjectIsEmpty (Candidate:any):boolean {\n    expectObject('candidate',Candidate)\n    for (let Key in Candidate) {\n      if (Object_hasOwnProperty(Candidate,Key)) {\n        return false\n      }\n    }\n    return true\n  }\n\n/**** ObjectIsNotEmpty ****/\n\n  export function ObjectIsNotEmpty (Candidate:any):boolean {\n    return ! ObjectIsEmpty(Candidate)\n  }\n\n/**** StringIsEmpty ****/\n\n  export function StringIsEmpty (Candidate:string):boolean {\n    return /^\\s*$/.test(Candidate)\n  }\n\n/**** StringIsNotEmpty ****/\n\n  export function StringIsNotEmpty (Candidate:string):boolean {\n    return ! StringIsEmpty(Candidate)\n  }\n\n/**** constrained ****/\n\n  export function constrained (\n    Value:number, Minimum:number = -Infinity, Maximum:number = Infinity\n  ):number {\n    return Math.max(Minimum, Math.min(Value, Maximum))\n  }\n\n//------------------------------------------------------------------------------\n//--                             Color Utilities                              --\n//------------------------------------------------------------------------------\n\n// built-in color names (see http://www.w3.org/TR/SVG/types.html#ColorKeywords) ----\n\n  export const ColorSet = {\n           transparent:'rgba(0,0,0,0,0.0)',\n             aliceblue:'rgba(240,248,255,1.0)',         lightpink:'rgba(255,182,193,1.0)',\n          antiquewhite:'rgba(250,235,215,1.0)',       lightsalmon:'rgba(255,160,122,1.0)',\n                  aqua:'rgba(0,255,255,1.0)',       lightseagreen:'rgba(32,178,170,1.0)',\n            aquamarine:'rgba(127,255,212,1.0)',      lightskyblue:'rgba(135,206,250,1.0)',\n                 azure:'rgba(240,255,255,1.0)',    lightslategray:'rgba(119,136,153,1.0)',\n                 beige:'rgba(245,245,220,1.0)',    lightslategrey:'rgba(119,136,153,1.0)',\n                bisque:'rgba(255,228,196,1.0)',    lightsteelblue:'rgba(176,196,222,1.0)',\n                 black:'rgba(0,0,0,1.0)',             lightyellow:'rgba(255,255,224,1.0)',\n        blanchedalmond:'rgba(255,235,205,1.0)',              lime:'rgba(0,255,0,1.0)',\n                  blue:'rgba(0,0,255,1.0)',             limegreen:'rgba(50,205,50,1.0)',\n            blueviolet:'rgba(138,43,226,1.0)',              linen:'rgba(250,240,230,1.0)',\n                 brown:'rgba(165,42,42,1.0)',             magenta:'rgba(255,0,255,1.0)',\n             burlywood:'rgba(222,184,135,1.0)',            maroon:'rgba(128,0,0,1.0)',\n             cadetblue:'rgba(95,158,160,1.0)',   mediumaquamarine:'rgba(102,205,170,1.0)',\n            chartreuse:'rgba(127,255,0,1.0)',          mediumblue:'rgba(0,0,205,1.0)',\n             chocolate:'rgba(210,105,30,1.0)',       mediumorchid:'rgba(186,85,211,1.0)',\n                 coral:'rgba(255,127,80,1.0)',       mediumpurple:'rgba(147,112,219,1.0)',\n        cornflowerblue:'rgba(100,149,237,1.0)',    mediumseagreen:'rgba(60,179,113,1.0)',\n              cornsilk:'rgba(255,248,220,1.0)',   mediumslateblue:'rgba(123,104,238,1.0)',\n               crimson:'rgba(220,20,60,1.0)',   mediumspringgreen:'rgba(0,250,154,1.0)',\n                  cyan:'rgba(0,255,255,1.0)',     mediumturquoise:'rgba(72,209,204,1.0)',\n              darkblue:'rgba(0,0,139,1.0)',       mediumvioletred:'rgba(199,21,133,1.0)',\n              darkcyan:'rgba(0,139,139,1.0)',        midnightblue:'rgba(25,25,112,1.0)',\n         darkgoldenrod:'rgba(184,134,11,1.0)',          mintcream:'rgba(245,255,250,1.0)',\n              darkgray:'rgba(169,169,169,1.0)',         mistyrose:'rgba(255,228,225,1.0)',\n             darkgreen:'rgba(0,100,0,1.0)',              moccasin:'rgba(255,228,181,1.0)',\n              darkgrey:'rgba(169,169,169,1.0)',       navajowhite:'rgba(255,222,173,1.0)',\n             darkkhaki:'rgba(189,183,107,1.0)',              navy:'rgba(0,0,128,1.0)',\n           darkmagenta:'rgba(139,0,139,1.0)',             oldlace:'rgba(253,245,230,1.0)',\n        darkolivegreen:'rgba(85,107,47,1.0)',               olive:'rgba(128,128,0,1.0)',\n            darkorange:'rgba(255,140,0,1.0)',           olivedrab:'rgba(107,142,35,1.0)',\n            darkorchid:'rgba(153,50,204,1.0)',             orange:'rgba(255,165,0,1.0)',\n               darkred:'rgba(139,0,0,1.0)',             orangered:'rgba(255,69,0,1.0)',\n            darksalmon:'rgba(233,150,122,1.0)',            orchid:'rgba(218,112,214,1.0)',\n          darkseagreen:'rgba(143,188,143,1.0)',     palegoldenrod:'rgba(238,232,170,1.0)',\n         darkslateblue:'rgba(72,61,139,1.0)',           palegreen:'rgba(152,251,152,1.0)',\n         darkslategray:'rgba(47,79,79,1.0)',        paleturquoise:'rgba(175,238,238,1.0)',\n         darkslategrey:'rgba(47,79,79,1.0)',        palevioletred:'rgba(219,112,147,1.0)',\n         darkturquoise:'rgba(0,206,209,1.0)',          papayawhip:'rgba(255,239,213,1.0)',\n            darkviolet:'rgba(148,0,211,1.0)',           peachpuff:'rgba(255,218,185,1.0)',\n              deeppink:'rgba(255,20,147,1.0)',               peru:'rgba(205,133,63,1.0)',\n           deepskyblue:'rgba(0,191,255,1.0)',                pink:'rgba(255,192,203,1.0)',\n               dimgray:'rgba(105,105,105,1.0)',              plum:'rgba(221,160,221,1.0)',\n               dimgrey:'rgba(105,105,105,1.0)',        powderblue:'rgba(176,224,230,1.0)',\n            dodgerblue:'rgba(30,144,255,1.0)',             purple:'rgba(128,0,128,1.0)',\n             firebrick:'rgba(178,34,34,1.0)',                 red:'rgba(255,0,0,1.0)',\n           floralwhite:'rgba(255,250,240,1.0)',         rosybrown:'rgba(188,143,143,1.0)',\n           forestgreen:'rgba(34,139,34,1.0)',           royalblue:'rgba(65,105,225,1.0)',\n               fuchsia:'rgba(255,0,255,1.0)',         saddlebrown:'rgba(139,69,19,1.0)',\n             gainsboro:'rgba(220,220,220,1.0)',            salmon:'rgba(250,128,114,1.0)',\n            ghostwhite:'rgba(248,248,255,1.0)',        sandybrown:'rgba(244,164,96,1.0)',\n                  gold:'rgba(255,215,0,1.0)',            seagreen:'rgba(46,139,87,1.0)',\n             goldenrod:'rgba(218,165,32,1.0)',           seashell:'rgba(255,245,238,1.0)',\n                  gray:'rgba(128,128,128,1.0)',            sienna:'rgba(160,82,45,1.0)',\n                 green:'rgba(0,128,0,1.0)',                silver:'rgba(192,192,192,1.0)',\n           greenyellow:'rgba(173,255,47,1.0)',            skyblue:'rgba(135,206,235,1.0)',\n                  grey:'rgba(128,128,128,1.0)',         slateblue:'rgba(106,90,205,1.0)',\n              honeydew:'rgba(240,255,240,1.0)',         slategray:'rgba(112,128,144,1.0)',\n               hotpink:'rgba(255,105,180,1.0)',         slategrey:'rgba(112,128,144,1.0)',\n             indianred:'rgba(205,92,92,1.0)',                snow:'rgba(255,250,250,1.0)',\n                indigo:'rgba(75,0,130,1.0)',          springgreen:'rgba(0,255,127,1.0)',\n                 ivory:'rgba(255,255,240,1.0)',         steelblue:'rgba(70,130,180,1.0)',\n                 khaki:'rgba(240,230,140,1.0)',               tan:'rgba(210,180,140,1.0)',\n              lavender:'rgba(230,230,250,1.0)',              teal:'rgba(0,128,128,1.0)',\n         lavenderblush:'rgba(255,240,245,1.0)',           thistle:'rgba(216,191,216,1.0)',\n             lawngreen:'rgba(124,252,0,1.0)',              tomato:'rgba(255,99,71,1.0)',\n          lemonchiffon:'rgba(255,250,205,1.0)',         turquoise:'rgba(64,224,208,1.0)',\n             lightblue:'rgba(173,216,230,1.0)',            violet:'rgba(238,130,238,1.0)',\n            lightcoral:'rgba(240,128,128,1.0)',             wheat:'rgba(245,222,179,1.0)',\n             lightcyan:'rgba(224,255,255,1.0)',             white:'rgba(255,255,255,1.0)',\n  lightgoldenrodyellow:'rgba(250,250,210,1.0)',        whitesmoke:'rgba(245,245,245,1.0)',\n             lightgray:'rgba(211,211,211,1.0)',            yellow:'rgba(255,255,0,1.0)',\n            lightgreen:'rgba(144,238,144,1.0)',       yellowgreen:'rgba(154,205,50,1.0)',\n             lightgrey:'rgba(211,211,211,1.0)',\n  }\n\n/**** HexColor - converts a given color to #rrggbbaa ****/\n\n  export function HexColor (Color:string):string {\n    let lowerColor = Color.toLowerCase()\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n// @ts-ignore TS dislikes indexing with literal keys\n      Color = ColorSet[lowerColor]\n    } // do not return here as color is now in RGBA format\n\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n      return Color + 'FF'\n    }\n\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n      return Color\n    }\n\n    const HexDigit = '0123456789ABCDEF'\n    function dec2hex (Value:number):string {\n      if (Value > 255) { Value = 255 }\n      return HexDigit[Math.trunc(Value / 16)] + HexDigit[Value % 16]\n    }\n\n    const RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i // not perfect\n\n    let Match = RGBPattern.exec(Color)\n    if (Match != null) {\n      return ('#' +\n        dec2hex(parseInt(Match[1],10)) +\n        dec2hex(parseInt(Match[2],10)) +\n        dec2hex(parseInt(Match[3],10)) + 'FF'\n      )\n    }\n\n    const RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([01]?[.][0-9]+|[01])\\)$/i // not perfect\n\n    Match = RGBAPattern.exec(Color)\n    if (Match != null) {\n      return ('#' +\n        dec2hex(parseInt(Match[1],10)) +\n        dec2hex(parseInt(Match[2],10)) +\n        dec2hex(parseInt(Match[3],10)) +\n        dec2hex(parseFloat(Match[4]))\n      )\n    }\n\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification')\n  }\n\n/**** RGBAColor - converts a given color to RGBA(r,g,b,a) ****/\n\n  export function RGBAColor (Color:string):string {\n    let lowerColor = Color.toLowerCase()\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n// @ts-ignore TS dislikes indexing with literal keys\n      return ColorSet[lowerColor]             // color is already in RGBA format\n    }\n\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n      return ('rgba(' +\n        parseInt(Color.slice(1,3),16) + ',' +\n        parseInt(Color.slice(3,5),16) + ',' +\n        parseInt(Color.slice(5,7),16) + ', 1' +\n      ')')\n    }\n\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n      return ('rgba(' +\n        parseInt(Color.slice(1,3),16) + ',' +\n        parseInt(Color.slice(3,5),16) + ',' +\n        parseInt(Color.slice(5,7),16) + ',' +\n        (parseInt(Color.slice(7),16)/255) +\n      ')')\n    }\n\n    const RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i //not perfect\n\n    let Match = RGBPattern.exec(Color)\n    if (Match != null) {\n      return Color.slice(0,Color.length-1) + ',1)'\n    }\n\n    const RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([0]?[.][0-9]+|[01])\\)$/i // not perfect\n\n    Match = RGBAPattern.exec(Color)\n    if (Match != null) { return Color }\n\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification')\n  }\n\n/**** shortHexColor - converts a given color into #RRGGBB ****/\n\n  export function shortHexColor (Color:string):string {\n    return HexColor(Color).slice(0,7)\n  }\n"],"names":["global","Function","Object_hasOwnProperty","Value","PropertyName","hasOwnProperty","Object","prototype","call","Object_isPrototypeOf","Candidate","isPrototypeOf","throwError","Message","Match","exec","Error","namedError","name","ValueIsBoolean","Boolean","ValueIsNumber","Number","ValueIsFiniteNumber","isFinite","valueOf","ValueIsNaN","isNaN","ValueIsInteger","Math","round","ValueIsOrdinal","ValueIsCardinal","ValueIsString","String","emptyStringPattern","ValueIsNonEmptyString","test","ValueIsStringMatching","Pattern","noCtrlCharsButCRLFPattern","ValueIsText","noCtrlCharsPattern","ValueIsTextline","ValueIsFunction","ValueIsAnonymousFunction","ValueIsNamedFunction","ValueIsNativeFunction","toString","ValueIsScriptedFunction","ValueIsObject","ValueIsPlainObject","getPrototypeOf","ValueIsVanillaObject","ValueIsArray","Array","isArray","ValueIsList","minLength","maxLength","i","l","length","undefined","ValueIsListSatisfying","Validator","Signal","ValueIsDate","Date","ValueIsError","ValueIsPromise","then","ValueIsRegExp","RegExp","ValueIsOneOf","ValueList","indexOf","ValueIsColor","ColorSet","EMailAddressPattern","ValueIsEMailAddress","noCtrlCharsOrWhitespacePattern","ValueIsURL","URL","rejectNil","acceptNil","validatedArgument","Description","Argument","ValueIsValid","NilIsAcceptable","Expectation","escaped","ValidatorForClassifier","Classifier","ClassifierName","FunctionWithName","replace","originalFunction","desiredName","defineProperty","value","signal","renamed","expectValue","expectedValue","allowBoolean","allowedBoolean","expectBoolean","expectedBoolean","allowNumber","allowedNumber","expectNumber","expectedNumber","allowFiniteNumber","allowedFiniteNumber","expectFiniteNumber","expectedFiniteNumber","allowNaN","allowedNaN","expectNaN","expectedNaN","allowNumberInRange","minValue","maxValue","withMin","withMax","expectedNumberInRange","allowedNumberInRange","expectNumberInRange","RangeError","allowInteger","allowedInteger","expectInteger","expectedInteger","allowIntegerInRange","expectedIntegerInRange","allowedIntegerInRange","expectIntegerInRange","allowOrdinal","allowedOrdinal","expectOrdinal","expectedOrdinal","allowCardinal","allowedCardinal","expectCardinal","expectedCardinal","allowString","allowedString","expectString","expectedString","allowNonEmptyString","allowedNonEmptyString","expectNonEmptyString","expectedNonEmptyString","allowStringMatching","expectedStringMatching","allowedStringMatching","expectStringMatching","allowText","allowedText","expectText","expectedText","allowTextline","allowedTextline","expectTextline","expectedTextline","allowFunction","allowedFunction","expectFunction","expectedFunction","allowAnonymousFunction","allowedAnonymousFunction","expectAnonymousFunction","expectedAnonymousFunction","allowNamedFunction","allowedNamedFunction","expectNamedFunction","expectedNamedFunction","allowNativeFunction","allowedNativeFunction","expectNativeFunction","expectedNativeFunction","allowScriptedFunction","allowedScriptedFunction","expectScriptedFunction","expectedScriptedFunction","allowObject","allowedObject","expectObject","expectedObject","allowPlainObject","allowedPlainObject","expectPlainObject","expectedPlainObject","allowVanillaObject","allowedVanillaObject","expectVanillaObject","expectedVanillaObject","allowArray","expectedArray","allowedArray","expectArray","allowList","expectedList","allowedList","expectList","allowListSatisfying","expectedListSatisfying","allowedListSatisfying","expectListSatisfying","allowInstanceOf","constructor","expectedInstanceOf","allowedInstanceOf","expectInstanceOf","allowValueInheritingFrom","expectedValueInheritingFrom","allowedValueInheritingFrom","expectValueInheritingFrom","allowDate","allowedDate","expectDate","expectedDate","allowError","allowedError","expectError","expectedError","allowPromise","allowedPromise","expectPromise","expectedPromise","allowRegExp","allowedRegExp","expectRegExp","expectedRegExp","allowOneOf","expectedOneOf","allowedOneOf","expectOneOf","allowColor","allowedColor","expectColor","expectedColor","allowEMailAddress","allowedEMailAddress","expectEMailAddress","expectedEMailAddress","allowURL","allowedURL","expectURL","expectedURL","Text","HexCode","charCodeAt","slice","quotable","Quote","HTMLsafe","EOLReplacement","trim","Result","substring","ValuesDiffer","thisValue","otherValue","Mode","thisType","abs","EPSILON","thisArray","otherArray","ArraysDiffer","thisObject","otherObject","key","ObjectsDiffer","ObjectIsEmpty","Key","StringIsEmpty","transparent","aliceblue","lightpink","antiquewhite","lightsalmon","aqua","lightseagreen","aquamarine","lightskyblue","azure","lightslategray","beige","lightslategrey","bisque","lightsteelblue","black","lightyellow","blanchedalmond","lime","blue","limegreen","blueviolet","linen","brown","magenta","burlywood","maroon","cadetblue","mediumaquamarine","chartreuse","mediumblue","chocolate","mediumorchid","coral","mediumpurple","cornflowerblue","mediumseagreen","cornsilk","mediumslateblue","crimson","mediumspringgreen","cyan","mediumturquoise","darkblue","mediumvioletred","darkcyan","midnightblue","darkgoldenrod","mintcream","darkgray","mistyrose","darkgreen","moccasin","darkgrey","navajowhite","darkkhaki","navy","darkmagenta","oldlace","darkolivegreen","olive","darkorange","olivedrab","darkorchid","orange","darkred","orangered","darksalmon","orchid","darkseagreen","palegoldenrod","darkslateblue","palegreen","darkslategray","paleturquoise","darkslategrey","palevioletred","darkturquoise","papayawhip","darkviolet","peachpuff","deeppink","peru","deepskyblue","pink","dimgray","plum","dimgrey","powderblue","dodgerblue","purple","firebrick","red","floralwhite","rosybrown","forestgreen","royalblue","fuchsia","saddlebrown","gainsboro","salmon","ghostwhite","sandybrown","gold","seagreen","goldenrod","seashell","gray","sienna","green","silver","greenyellow","skyblue","grey","slateblue","honeydew","slategray","hotpink","slategrey","indianred","snow","indigo","springgreen","ivory","steelblue","khaki","tan","lavender","teal","lavenderblush","thistle","lawngreen","tomato","lemonchiffon","turquoise","lightblue","violet","lightcoral","wheat","lightcyan","white","lightgoldenrodyellow","whitesmoke","lightgray","yellow","lightgreen","yellowgreen","lightgrey","HexColor","Color","lowerColor","toLowerCase","HexDigit","dec2hex","trunc","parseInt","parseFloat","TargetObject","_i","otherObjectList","Descriptor","getOwnPropertyDescriptor","propertyIsEnumerable","toLocaleString","Prototype","Constructor","Minimum","Maximum","Infinity","max","min","CharCode","fromCharCode"],"mappings":"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"}